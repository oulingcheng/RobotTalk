2022-12-10 22:16:34,256 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-10 22:16:34,272 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-10 22:20:41,589 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-10 22:20:41,603 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-10 22:23:52,038 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-10 22:23:52,053 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-10 22:23:57,672 robot_server.py: INFO: req content： content='你好呀' req_id='111222' pic_url='xxx'
2022-12-10 22:25:09,299 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-10 22:25:09,320 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-10 22:25:11,324 robot_server.py: INFO: req content： content='你好呀' req_id='111222'
2022-12-11 13:00:44,302 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 13:15:27,472 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 13:15:38,263 robot_server.py: INFO: req content： content='你好呀' req_id='111222'
2022-12-11 14:03:32,598 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 14:16:15,180 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 14:28:45,449 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 14:29:32,809 robot_server.py: INFO: req content： content='你好呀' req_id='111222'
2022-12-11 14:31:00,403 robot_server.py: INFO: req content： content='hello' req_id='111222'
2022-12-11 15:20:23,289 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:21:06,816 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:21:32,779 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:27:47,241 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:28:40,018 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:28:50,291 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:28:59,484 robot_server.py: INFO: req content： content='hello' req_id='111222'
2022-12-11 15:30:35,369 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:30:38,743 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:30:46,343 robot_server.py: INFO: req content： content='hello' req_id='111222'
2022-12-11 15:35:58,353 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:35:59,470 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:36:02,079 robot_server.py: INFO: req content： content='hello' req_id='111222'
2022-12-11 15:36:50,795 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:36:51,983 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:36:54,257 robot_server.py: INFO: req content： content='hello' req_id='111222'
2022-12-11 15:36:54,261 robot_server.py: ERROR: Traceback (most recent call last):
  File "D:\ai\python_code\RobotTalk\robot_server.py", line 50, in read_item
    res = content_dialog.predict(content)
  File "D:\ai\python_code\RobotTalk\JuggingFace\content_dialog.py", line 37, in predict
    output = self.model(torch.tensor(input_ids))
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\torch\nn\modules\module.py", line 1130, in _call_impl
    return forward_call(*input, **kwargs)
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\models\bert\modeling_bert.py", line 975, in forward
    batch_size, seq_length = input_shape
ValueError: not enough values to unpack (expected 2, got 1)

2022-12-11 15:37:12,204 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:37:13,245 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:37:15,481 robot_server.py: INFO: req content： content='hello' req_id='111222'
2022-12-11 15:37:15,485 robot_server.py: ERROR: Traceback (most recent call last):
  File "D:\ai\python_code\RobotTalk\robot_server.py", line 50, in read_item
    res = content_dialog.predict(content)
  File "D:\ai\python_code\RobotTalk\JuggingFace\content_dialog.py", line 37, in predict
    output = self.model(input_ids)
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\torch\nn\modules\module.py", line 1130, in _call_impl
    return forward_call(*input, **kwargs)
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\models\bert\modeling_bert.py", line 969, in forward
    input_shape = input_ids.size()
AttributeError: 'list' object has no attribute 'size'

2022-12-11 15:40:01,591 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:40:02,493 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:40:06,012 robot_server.py: INFO: req content： content='hello' req_id='111222'
2022-12-11 15:40:06,016 robot_server.py: ERROR: Traceback (most recent call last):
  File "D:\ai\python_code\RobotTalk\robot_server.py", line 50, in read_item
    res = content_dialog.predict(content)
  File "D:\ai\python_code\RobotTalk\JuggingFace\content_dialog.py", line 38, in predict
    output = self.model.generate(input_ids, max_length=1024, top_p=0.9, top_k=40)
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\torch\autograd\grad_mode.py", line 27, in decorate_context
    return func(*args, **kwargs)
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\generation\utils.py", line 1295, in generate
    self._validate_model_class()
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\generation\utils.py", line 973, in _validate_model_class
    raise TypeError(exception_message)
TypeError: The current model class (BertForSequenceClassification) is not compatible with `.generate()`, as it doesn't have a language model head. Please use one of the following classes instead: {'BertLMHeadModel'}

2022-12-11 15:56:23,238 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 15:56:25,179 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 17:33:37,854 robot_server.py: INFO: req content： content='hello' req_id='111222'
2022-12-11 17:33:37,856 robot_server.py: ERROR: Traceback (most recent call last):
  File "D:\ai\python_code\RobotTalk\robot_server.py", line 50, in read_item
    res = content_dialog.predict(content)
  File "D:\ai\python_code\RobotTalk\JuggingFace\content_dialog.py", line 42, in predict
    output = self.model.generate(input_ids, max_length=1024, top_p=0.9, top_k=40)
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\torch\autograd\grad_mode.py", line 27, in decorate_context
    return func(*args, **kwargs)
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\generation\utils.py", line 1295, in generate
    self._validate_model_class()
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\generation\utils.py", line 973, in _validate_model_class
    raise TypeError(exception_message)
TypeError: The current model class (BertForSequenceClassification) is not compatible with `.generate()`, as it doesn't have a language model head. Please use one of the following classes instead: {'BertLMHeadModel'}

2022-12-11 17:34:07,537 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 17:34:08,474 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 17:34:22,819 robot_server.py: INFO: req content： content='hello' req_id='111222'
2022-12-11 17:34:22,942 robot_server.py: ERROR: Traceback (most recent call last):
  File "D:\ai\python_code\RobotTalk\robot_server.py", line 50, in read_item
    res = content_dialog.predict(content)
  File "D:\ai\python_code\RobotTalk\JuggingFace\content_dialog.py", line 43, in predict
    cnt_sta = self.tokenizer.decode(output[0], skip_special_tokens=True)
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\tokenization_utils_base.py", line 3468, in decode
    return self._decode(
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\tokenization_utils.py", line 931, in _decode
    filtered_tokens = self.convert_ids_to_tokens(token_ids, skip_special_tokens=skip_special_tokens)
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\tokenization_utils.py", line 906, in convert_ids_to_tokens
    index = int(index)
TypeError: int() argument must be a string, a bytes-like object or a number, not 'list'

2022-12-11 17:34:47,347 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 17:34:48,271 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 17:34:51,219 robot_server.py: INFO: req content： content='hello' req_id='111222'
2022-12-11 17:34:51,320 robot_server.py: ERROR: Traceback (most recent call last):
  File "D:\ai\python_code\RobotTalk\robot_server.py", line 50, in read_item
    res = content_dialog.predict(content)
  File "D:\ai\python_code\RobotTalk\JuggingFace\content_dialog.py", line 43, in predict
    cnt_sta = self.tokenizer.decode(output, skip_special_tokens=True)
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\tokenization_utils_base.py", line 3468, in decode
    return self._decode(
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\tokenization_utils.py", line 931, in _decode
    filtered_tokens = self.convert_ids_to_tokens(token_ids, skip_special_tokens=skip_special_tokens)
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\tokenization_utils.py", line 906, in convert_ids_to_tokens
    index = int(index)
ValueError: invalid literal for int() with base 10: 'last_hidden_state'

2022-12-11 17:36:37,122 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 17:36:38,094 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 17:36:46,551 robot_server.py: INFO: req content： content='hello' req_id='111222'
2022-12-11 17:36:46,686 robot_server.py: ERROR: Traceback (most recent call last):
  File "D:\ai\python_code\RobotTalk\robot_server.py", line 50, in read_item
    res = content_dialog.predict(content)
  File "D:\ai\python_code\RobotTalk\JuggingFace\content_dialog.py", line 44, in predict
    cnt_sta = self.tokenizer.decode(output, skip_special_tokens=True)
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\tokenization_utils_base.py", line 3468, in decode
    return self._decode(
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\tokenization_utils.py", line 931, in _decode
    filtered_tokens = self.convert_ids_to_tokens(token_ids, skip_special_tokens=skip_special_tokens)
  File "D:\ai\conda\condaexe\envs\pytorchGPU\lib\site-packages\transformers\tokenization_utils.py", line 906, in convert_ids_to_tokens
    index = int(index)
ValueError: invalid literal for int() with base 10: 'last_hidden_state'

2022-12-11 17:43:51,374 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 17:44:58,682 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 20:34:55,729 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 23:08:34,937 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 23:10:06,551 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 23:10:55,350 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-11 23:17:04,604 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-12 01:48:13,320 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-20 17:55:09,398 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-20 17:55:09,413 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-20 22:38:29,518 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-20 22:38:29,525 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-20 22:41:30,950 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-20 22:41:30,957 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-20 22:52:48,943 robot_server.py: INFO: req content： content='吃饭了吗' req_id='1'
2022-12-20 22:53:37,371 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:56:55,360 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:56:56,036 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:56:56,599 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:56:57,101 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:56:57,572 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:56:58,004 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:56:58,456 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:56:58,937 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:56:59,388 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:56:59,858 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:57:00,306 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:57:00,786 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:57:01,301 robot_server.py: INFO: req content： content='吃货' req_id='1'
2022-12-20 22:57:37,923 robot_server.py: INFO: req content： content='发大幅降低拉风金德拉克放假啦' req_id='1'
2022-12-20 23:10:57,901 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-20 23:10:57,913 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2022-12-20 23:12:18,896 robot_server.py: INFO: req content： content='吃货' req_id='1'
2023-01-01 12:46:48,033 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 12:46:48,041 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 12:47:04,728 robot_server.py: INFO: dialog req content： content='发大幅降低拉风金德拉克放假啦' req_id='1'
2023-01-01 12:52:44,043 robot_server.py: INFO: chitchat req content： content='发大幅降低拉风金德拉克放假啦' req_id='1'
2023-01-01 12:52:44,065 robot_server.py: ERROR: Traceback (most recent call last):
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/robot_server.py", line 120, in chitchat
    res = requests.post("http://127.0.0.1:8888/chitchat", headers="Content-Type: application/json", json=dialog)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/sessions.py", line 573, in request
    prep = self.prepare_request(req)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/sessions.py", line 484, in prepare_request
    p.prepare(
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/models.py", line 369, in prepare
    self.prepare_headers(headers)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/models.py", line 489, in prepare_headers
    for header in headers.items():
AttributeError: 'str' object has no attribute 'items'

2023-01-01 13:24:46,429 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 13:24:46,443 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 13:24:51,552 robot_server.py: INFO: chitchat req content： content='发大幅降低拉风金德拉克放假啦' req_id='1'
2023-01-01 13:24:51,568 robot_server.py: ERROR: Traceback (most recent call last):
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/robot_server.py", line 120, in chitchat
    res = requests.post("http://127.0.0.1:8888/chitchat", headers="Content-Type: application/json", json=dialog)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/sessions.py", line 573, in request
    prep = self.prepare_request(req)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/sessions.py", line 484, in prepare_request
    p.prepare(
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/models.py", line 369, in prepare
    self.prepare_headers(headers)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/models.py", line 489, in prepare_headers
    for header in headers.items():
AttributeError: 'str' object has no attribute 'items'

2023-01-01 13:26:38,603 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 13:26:38,618 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 13:26:43,001 robot_server.py: INFO: chitchat req content： content='发大幅降低拉风金德拉克放假啦' req_id='1'
2023-01-01 13:26:43,021 robot_server.py: ERROR: Traceback (most recent call last):
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/robot_server.py", line 121, in chitchat
    res = requests.post("http://127.0.0.1:8888/chitchat", headers=headers, json=dialog)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/sessions.py", line 573, in request
    prep = self.prepare_request(req)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/sessions.py", line 484, in prepare_request
    p.prepare(
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/models.py", line 371, in prepare
    self.prepare_body(data, files, json)
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/venv/lib/python3.9/site-packages/requests/models.py", line 511, in prepare_body
    body = complexjson.dumps(json, allow_nan=False)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Dialog is not JSON serializable

2023-01-01 13:27:23,994 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 13:27:24,008 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 13:27:26,894 robot_server.py: INFO: chitchat req content： content='发大幅降低拉风金德拉克放假啦' req_id='1'
2023-01-01 13:27:26,899 robot_server.py: ERROR: Traceback (most recent call last):
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/robot_server.py", line 122, in chitchat
    res = requests.post("http://127.0.0.1:8888/chitchat", headers=headers, json=json.loads(dialog))
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not Dialog

2023-01-01 13:28:00,189 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 13:28:00,203 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 13:28:03,704 robot_server.py: INFO: chitchat req content： content='发大幅降低拉风金德拉克放假啦' req_id='1'
2023-01-01 13:28:03,704 robot_server.py: ERROR: Traceback (most recent call last):
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/robot_server.py", line 122, in chitchat
    res = requests.post("http://127.0.0.1:8888/chitchat", headers=headers, json=json.dump(dialog))
TypeError: dump() missing 1 required positional argument: 'fp'

2023-01-01 13:28:39,618 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 13:28:39,632 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 13:28:42,634 robot_server.py: INFO: chitchat req content： content='发大幅降低拉风金德拉克放假啦' req_id='1'
2023-01-01 13:28:42,637 robot_server.py: ERROR: Traceback (most recent call last):
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/robot_server.py", line 122, in chitchat
    res = requests.post("http://127.0.0.1:8888/chitchat", headers=headers, json=json.dumps(dialog))
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Dialog is not JSON serializable

2023-01-01 18:13:37,560 robot_server.py: INFO: chitchat req content： content='发大幅降低拉风金德拉克放假啦' req_id='1'
2023-01-01 18:13:37,561 robot_server.py: ERROR: Traceback (most recent call last):
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/robot_server.py", line 122, in chitchat
    res = requests.post("http://127.0.0.1:8888/chitchat", headers=headers, json=json.dumps(dialog))
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Dialog is not JSON serializable

2023-01-01 18:14:33,591 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 18:14:33,598 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 18:14:39,486 robot_server.py: INFO: chitchat req content： content='发大幅降低拉风金德拉克放假啦' req_id='1'
2023-01-01 18:14:39,487 robot_server.py: ERROR: Traceback (most recent call last):
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/robot_server.py", line 123, in chitchat
    json=json.dumps(json.JSONEncoder.default(dialog)))
TypeError: default() missing 1 required positional argument: 'o'

2023-01-01 18:21:42,304 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 18:21:42,305 robot_server.py: ERROR: Traceback (most recent call last):
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/robot_server.py", line 123, in chitchat
    json=json.dumps(json.JSONEncoder.default(dialog)))
TypeError: default() missing 1 required positional argument: 'o'

2023-01-01 18:22:08,708 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 18:22:08,716 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 18:22:11,467 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 18:22:11,467 robot_server.py: ERROR: Traceback (most recent call last):
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/robot_server.py", line 123, in chitchat
    json=json.dumps(json.JSONEncoder.encode(dialog)))
TypeError: encode() missing 1 required positional argument: 'o'

2023-01-01 18:22:12,359 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 18:22:12,359 robot_server.py: ERROR: Traceback (most recent call last):
  File "/Users/xianjiacheng/PycharmProjects/RobotTalk/robot_server.py", line 123, in chitchat
    json=json.dumps(json.JSONEncoder.encode(dialog)))
TypeError: encode() missing 1 required positional argument: 'o'

2023-01-01 18:29:41,057 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 18:29:41,064 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 18:29:44,074 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 18:35:54,227 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 18:39:31,124 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 18:39:31,132 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 18:39:33,537 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 20:02:07,845 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 20:02:07,853 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 20:02:10,081 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 20:14:07,425 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 20:14:07,432 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 20:14:10,964 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 20:14:10,979 robot_server.py: INFO: chitchat res： <Response [422]>
2023-01-01 20:15:02,993 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 20:15:03,000 robot_server.py: INFO: chitchat res： <Response [422]>
2023-01-01 20:15:09,587 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 20:15:09,590 robot_server.py: INFO: chitchat res： <Response [422]>
2023-01-01 20:15:35,946 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 20:15:35,954 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 20:15:41,035 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 20:15:41,521 robot_server.py: INFO: chitchat res： <Response [200]>
2023-01-01 20:16:08,956 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 20:16:08,963 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 20:16:10,862 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 20:16:11,317 robot_server.py: INFO: chitchat res： {"code":200,"message":"success","result":"有 什 么 可 以 帮 你 的","req_id":"1"}
2023-01-01 20:16:33,332 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 20:16:33,338 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 20:16:35,620 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 20:16:36,087 robot_server.py: INFO: chitchat res： {"code":200,"message":"success","result":"有 什 么 可 以 帮 你 的","req_id":"1"}
2023-01-01 20:16:53,628 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 20:16:53,634 robot_server.py: INFO: set CUDA_VISIBLE_DEVICES=cpu
2023-01-01 20:16:55,349 robot_server.py: INFO: chitchat req content： content='你好' req_id='1'
2023-01-01 20:16:55,501 robot_server.py: INFO: chitchat res： {"code":200,"message":"success","result":"您 好","req_id":"1"}
